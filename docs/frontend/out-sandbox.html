<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Moving out of the sandbox - Flashcard; A tutorial</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A tutorial to create a flashcard app">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li><a href="../about.html"><strong aria-hidden="true">1.</strong> What is this tutorial about</a></li><li><a href="../install-elm.html"><strong aria-hidden="true">2.</strong> Installing Elm</a></li><li><a href="../frontend/skeletal-elm.html"><strong aria-hidden="true">3.</strong> Skeletal Elm project</a></li><li><a href="../frontend/first-flash.html"><strong aria-hidden="true">4.</strong> A first flash card</a></li><li><a href="../frontend/custom-function.html"><strong aria-hidden="true">5.</strong> A custom function</a></li><li><a href="../frontend/type-annotations.html"><strong aria-hidden="true">6.</strong> Type annotations</a></li><li><a href="../frontend/namespaces.html"><strong aria-hidden="true">7.</strong> Namespaces</a></li><li><a href="../frontend/record-type.html"><strong aria-hidden="true">8.</strong> A record type</a></li><li><a href="../frontend/type-alias.html"><strong aria-hidden="true">9.</strong> Type alias</a></li><li><a href="../frontend/custom-type.html"><strong aria-hidden="true">10.</strong> A custom type</a></li><li><a href="../frontend/constructor.html"><strong aria-hidden="true">11.</strong> A convenient function</a></li><li><a href="../frontend/let-block.html"><strong aria-hidden="true">12.</strong> Showing the back</a></li><li><a href="../frontend/flip.html"><strong aria-hidden="true">13.</strong> Flip the card</a></li><li><a href="../frontend/architecture.html"><strong aria-hidden="true">14.</strong> Elm Architecture</a></li><li><a href="../frontend/update.html"><strong aria-hidden="true">15.</strong> Updating the model</a></li><li><a href="../frontend/build.html"><strong aria-hidden="true">16.</strong> Building the frontend</a></li><li><a href="../install-rust.html"><strong aria-hidden="true">17.</strong> Installing Rust</a></li><li><a href="../client-directory.html"><strong aria-hidden="true">18.</strong> Creating a client directory</a></li><li><a href="../backend/skeletal-rust.html"><strong aria-hidden="true">19.</strong> Skeletal Rust project</a></li><li><a href="../backend/server.html"><strong aria-hidden="true">20.</strong> Simple Server</a></li><li><a href="../backend/serve.html"><strong aria-hidden="true">21.</strong> Serving the frontend</a></li><li><a href="../frontend/decode.html"><strong aria-hidden="true">22.</strong> Decoding a FlashCard</a></li><li><a href="../frontend/test.html"><strong aria-hidden="true">23.</strong> Testing Elm</a></li><li><a href="../backend/model.html"><strong aria-hidden="true">24.</strong> Model on server</a></li><li><a href="../backend/serialize.html"><strong aria-hidden="true">25.</strong> Serialize FlashCard</a></li><li><a href="../backend/send.html"><strong aria-hidden="true">26.</strong> Sending FlashCard</a></li><li><a href="../frontend/out-sandbox.html" class="active"><strong aria-hidden="true">27.</strong> Moving out of the sandbox</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Flashcard; A tutorial</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#moving-out-of-the-sandbox" id="moving-out-of-the-sandbox">Moving out of the sandbox</a></h1>
<p>Up until now we have been relying on Elm's sandbox. The sandbox allows for a
user to interact with the component in a limited way. For example, it is <strong>not</strong>
possible to make an HTTP call.</p>
<p>We would like to do just that, so it is time to move out of the sandbox.</p>
<h2><a class="header" href="#browserelement" id="browserelement"><code>Browser.element</code></a></h2>
<p>The next step up on the Elm ladder is <a href="https://package.elm-lang.org/packages/elm/browser/latest/Browser#element"><code>Browser.element</code></a>. From the
element documentation we learn</p>
<blockquote>
<p>Unlike a sandbox, an element can talk to the outside world in a couple ways</p>
</blockquote>
<p>We will give a brief description of those ways, paying attention which are
relevant for us.</p>
<h3><a class="header" href="#commands" id="commands">Commands</a></h3>
<p>Commands are a way to request the Elm runtime to do a task. Making an HTTP call
is an example.</p>
<p>Commands are a way to describe a certain action. This keeps your program <em>pure</em>,
i.e. function always return the same value when called with similar arguments.
The Elm runtime will respond by performing the command you specified.</p>
<p>The Elm runtime notifies you of the result by calling the update function.</p>
<h3><a class="header" href="#subscriptions" id="subscriptions">Subscriptions</a></h3>
<p>Sometimes you are interested in something your component is not responsible for.
E.g. ticking of time, or mouse clicks. If you are interested in these things you
can <em>subscribe</em> to these events.</p>
<p>Again, Elm runtime notifies you of an event from a subscription by calling the
update function.</p>
<h3><a class="header" href="#flags" id="flags">Flags</a></h3>
<p>Let's we are creating our app and our customers want there name embossed on the
flash card. The functionality would not change, besides that our model would
keep track of the customer name.</p>
<p>One way to configure our application is by sending flags. This allows an
application to change behavior right from the start. E.g. one could pass in via
a flag the address one should retrieve flash cards from.</p>
<h3><a class="header" href="#ports" id="ports">Ports</a></h3>
<p>If you want even more communications with the outside world, ports allow you to
send and receive messages. They are the defacto way of communicating with
anything outside the control of the Elm runtime.</p>
<p>For example if you want to make use of a JavaScript library that does not have
an native Elm counterpart one should use ports to establish a bridge</p>
<h2><a class="header" href="#updating-update" id="updating-update">Updating <code>update</code></a></h2>
<p>The <code>update</code> function needs to be updated because it needs to be able to fire of
commands. This dual responsibility is reflected in the signature. For
completeness we show the current signature.</p>
<pre><code class="language-elm">update : Message -&gt; Model -&gt; Model
</code></pre>
<p>Besides updating the model, We could potentially also create a command, to be
executed by the Elm runtime. The new signature is</p>
<pre><code class="language-elm">update : Message -&gt; Model -&gt; ( Model, Cmd Message )
</code></pre>
<p>This will break the implementation. For now it is enough to create a tuple with
as second component <code>Cmd.none</code>.</p>
<pre><code class="language-elm">Flip -&gt;
    ( Maybe.map flip model, Cmd.none )
</code></pre>
<h2><a class="header" href="#default-subscriptions" id="default-subscriptions">Default subscriptions</a></h2>
<p>At the moment we don't want to subscribe to anything. We can tell Elm that by
configuring <code>Sub.none</code>, similar to <code>Cmd.none</code>.</p>
<p>In order to prepare for future extension we will be creating a subscriptions
definition that we will reference when we are creating a <code>Browser.element</code>.</p>
<pre><code class="language-elm">subscriptions : Model -&gt; Sub Message
subscriptions _ =
    Sub.none
</code></pre>
<h2><a class="header" href="#updating-init" id="updating-init">Updating init</a></h2>
<p>When we will introduce a <code>Browser.element</code> our current <code>init</code> field from the
<code>Browser.sandbox</code>does not suffice anymore. Again. We could kick off our entire
process by doing a request. Furthermore, our initial model could depend on some
flags.</p>
<p>For now we want to ignore the flags, and don't want to send a command. It
suffices to change our init to.</p>
<pre><code class="language-elm">init = \_ -&gt; ( model, Cmd.none )
</code></pre>
<h2><a class="header" href="#replace-browsersandbox-with-browserelement" id="replace-browsersandbox-with-browserelement">Replace <code>Browser.sandbox</code> with <code>Browser.element</code></a></h2>
<p>Now we can replace <code>Browser.sandbox</code> with <code>Browser.element</code>. It will still
complain, because it is missing a <code>subscriptions</code> field. But we prepared for
that.</p>
<p>All in all our program definition looks like</p>
<pre><code class="language-elm">Browser.element
    { init = \_ -&gt; ( Nothing, cmd )
    , view = view
    , update = update
    , subscriptions = subscriptions
    }
</code></pre>
<h2><a class="header" href="#verification" id="verification">Verification</a></h2>
<p>Building the app and opening the application would still allow you to learn the
translation of <code>Wettervorhersage</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../backend/send.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../backend/send.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
            </nav>

        </div>

        
        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            var socket = new WebSocket("ws://localhost:35174");
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload(true); // force reload from server (not from cache)
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>
        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
